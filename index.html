<!DOCTYPE html>
<html>
<head>

    <meta name="shopify-api-key" content="618f5ea2c0ce2cdb29368db77c0a5bae" />
    <script src="https://cdn.shopify.com/shopifycloud/app-bridge.js"></script>

</head>
    
<style>
body {
  font-family: system-ui;
  background: #f06d06;
  color: white;
  text-align: center;
}
</style>
<body>
    <h1>ðŸ‘‹ Hello World from github codespaces!</h1>

    <h2> Test <h2>
      
     <ui-nav-menu>
      <a href="/" rel="home">Home</a>
      <a href="/templates">Look at this</a>
      <a href="/settings">App bridge</a>
      <a href="/nav">Navigation!</a>

    </ui-nav-menu>
    
      
     <button id="myButton">Fetch a product with Direct API!</button> 
     <script>
            async function fetchData() {

                const query = `
                    {
                    products(first: 1) {
                        edges {
                        node {
                            id
                            title
                            description
                            handle
                            createdAt
                            updatedAt
                            variants(first: 1) {
                            edges {
                                node {
                                id
                                title
                                price
                                }
                            }
                            }
                        }
                        }
                    }
                    }
                `;
                const res = await fetch('shopify://admin/api/graphql.json', {
                    method: 'POST',
                    body: JSON.stringify({ query }),
                });
                console.log(res);

                const {data} = await res.json();
                console.log(data);

            };
        var button = document.getElementById('myButton');
        button.addEventListener('click', fetchData);
        

    </script>   

</body>
</html>
